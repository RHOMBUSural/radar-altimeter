# Радиовысотомер

Программа для моделирования работы радиовысотомера с графическим интерфейсом.

## Возможности

- Моделирование различных типов поверхностей (суша, море, лёд, лес, город, пустыня)
- Настройка параметров радиовысотомера:
  - Центральная частота
  - Полоса частот
  - Коэффициент усиления антенны
  - Мощность передатчика
- Выбор типа модуляции:
  - ЛЧМ (Линейная частотная модуляция)
  - НМ (Непрерывная волна)
  - ИМ (Импульсная модуляция)
- Настройка параметров импульсной модуляции:
  - Длительность импульса
  - Период повторения
- Учет углов наклона:
  - Крен
  - Тангаж
- Визуализация:
  - Отображение сигналов во временной области
  - Отображение спектра сигналов
  - Масштабирование графиков
  - 3D визуализация ландшафта с возможностью:
    - Переключения отображения отраженного сигнала
    - Оптимизированной отрисовки поверхности
    - Отображения прогресса генерации
    - Кэширования данных для быстрого обновления
- Дополнительные функции:
  - Выбор поляризации сигнала (вертикальная/горизонтальная)
  - Настройка количества отражений
  - Возможность использования GPU для ускорения расчетов
  - Комбинированный ландшафт с настраиваемыми участками
  - Автоматическое обновление графиков при изменении параметров

## Требования

- Python 3.x
- numpy >= 1.21.0
- matplotlib >= 3.4.0
- torch >= 2.0.0
- scipy >= 1.7.0

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/your-username/radar-altimeter.git
cd radar-altimeter
```

2. Создайте виртуальное окружение (рекомендуется):
```bash
python -m venv .venv
source .venv/bin/activate  # для Linux/Mac
.venv\Scripts\activate     # для Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Использование

Запустите программу:
```bash
python radar_altimeter_gui.py
```

### Основные функции

1. Настройка параметров радиовысотомера
2. Выбор типа поверхности и модуляции
3. Управление углами наклона
4. Просмотр сигналов во временной области и спектра
5. 3D визуализация ландшафта с отраженным сигналом

### Управление 3D визуализацией

- Используйте мышь для вращения и масштабирования графика
- Переключатель "Показать отраженный сигнал" для отображения/скрытия отраженного сигнала
- Прогресс-бар показывает процесс генерации поверхности
- Автоматическое обновление при изменении параметров

## Структура проекта

- `radar_altimeter.py` - основной класс радиовысотомера
- `radar_altimeter_gui.py` - графический интерфейс
- `requirements.txt` - зависимости проекта
- `README.md` - документация
- `test_simulation.py` - тесты симуляции
- `forest_simulation.py` - симуляция лесной местности

## Оптимизации

- Уменьшено разрешение 3D сетки для быстрой отрисовки
- Добавлено кэширование данных поверхности
- Реализован прогресс-бар для длительных операций
- Оптимизировано обновление графика при переключении отраженного сигнала
- Улучшена обработка ошибок и логирование
- Поддержка GPU для ускорения расчетов
- Оптимизированная генерация шума Перлина
- Эффективное использование памяти при работе с большими массивами данных

## Разработка

### Ветки Git

- `main` - основная ветка с стабильной версией
- `optimize-3d-graph` - ветка с оптимизациями 3D визуализации

### Логирование

Программа создает файл `radar_altimeter.log` с подробной информацией о работе:
- Отладочные сообщения
- Предупреждения
- Ошибки
- Временные метки событий

## Лицензия

MIT 